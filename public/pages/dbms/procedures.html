<script src="pages/dbms/procedures.js"/>
<div class="content-wrapper" ng-controller="dbms.procedures"
	style="min-height: 800px;">
	<!-- Content Header (Page header) -->
	<section class="content-header">
		
		<h1>
		<button ng-show="flag" class="btn  btn-warning" ng-click="flag=false;">
			<i class="fa fa-arrow-left"/>
		</button>
			{{subTitle}} 
		</h1>
		<ol class="breadcrumb">
			<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="#area">{{MENU.DEFINE.LB001}}</a></li>
            <li><a href="#area/trgt/{{aqBizId}}">{{LB.COMMON.SYSTEM}}</a></li>
            <li class="active">{{LB.TRGT_SQL.TITLE}}</li>
		</ol>
	</section>

	<!-- Main content -->
	<section class="content">
		<!-- Default box -->
		<div class="box" ng-show="!flag">
			<div class="box-header">
				<i class="fa fa-dot-circle-o"/>
				<h3 class="box-title">{{LB.TRGT_SQL.TITLE}}</h3>
				<div class="box-tools">
					<div class="input-group pull-right">
						<input type="text"  ng-model="tblNm"
							class="form-control input-sm pull-right" style="width: 150px;"
							placeholder="{{LB.COMMON.TABLE}}" />
						<div class="input-group-btn">
							<button class="btn btn-sm btn-default" ng-click="fnLoadData();">
								<i class="fa fa-search"></i>
							</button>
						</div>
						
					</div>
				</div>
			</div>
			<!-- /.box-header -->
			<div class="box-body table-responsive no-padding">
				<table class="table table-hover" ng-model="procTbl">
					<thead>
						<th ng-repeat="item in pageMeta.OBJECTS.procTbl.HEADER">{{item.HEADER_NAME}}</th>
					</thead>
					<tbody>
						<tr ng-repeat="item in procedureList">
							<!--<td><a href="#dbms/table?dbmsId={{item.DBMS_ID}}&schemaId={{item.SCHEMA_ID}}&indexNm={{item.MBR_OBJ_NM}}">{{item.MBR_OBJ_NM}}</a></td>-->
							<td ng-repeat="item2 in pageMeta.OBJECTS.procTbl.HEADER">
								<a href="#dbms/procedure?dbmsId={{item.DBMS_ID}}&schemaId={{item.SCHEMA_ID}}&procedureNm={{item.MBR_OBJ_NM}}" ng-if="item2.HREF">{{item[item2.FIELD]}}</a>
								<span ng-if="item2.HREF == undefined">{{item[item2.FIELD]}}</span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!-- /.box-body -->
			<div class="box-footer text-center">
				<label>Total Items : {{procTbl.totalCount}}</label>
				<div class="box-tools pull-right">
					<button class="btn btn-default btn-sm" ng-click="goPrev(procTbl);">
						<i class="fa fa-chevron-left"></i>
					</button>
					{{procTbl.pageNum}}/{{procTbl.totalPage}}
					<button class="btn btn-default btn-sm" ng-click="goNext(procTbl);">
						<i class="fa fa-chevron-right"></i>
					</button>
				</div>
			</div>
		</div>
		<!-- /.box -->
	</section>
	<!-- /.content -->
	
</div>
<!-- /.content-wrapper -->